<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:snowflake="http://www.mulesoft.org/schema/mule/snowflake"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/snowflake http://www.mulesoft.org/schema/mule/snowflake/current/mule-snowflake.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="patch-employee-idSub_Flow" doc:id="b35e739b-bb06-4f98-93c9-68f0674d8008" >
		<logger level="INFO" doc:name="Logger" doc:id="c2981d42-0e2c-4472-af0b-59cc79f3eca2" />
		<snowflake:update doc:name="Update" doc:id="6219ef2f-7b57-4f27-9e32-9ca1e104e082" config-ref="Snowflake_Config">
			<snowflake:sql ><![CDATA[update employees SET 
department = :department, managername =:managername where empid = :id]]></snowflake:sql>
			<snowflake:input-parameters ><![CDATA[#[{
	id: vars.id,
	department: payload.department,
	managername: payload.managerName
}]]]></snowflake:input-parameters>
		</snowflake:update>
		<ee:transform doc:name="Transform Message" doc:id="ad98154f-aafb-424b-bfb8-0baa262c87f4" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
payload]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<logger level="INFO" doc:name="Logger" doc:id="98d37245-4cf6-4da5-af1b-b6be20b89fad" />
	</sub-flow>
</mule>
